Создайте в программе абстрактный класс figure, у которого будут 2 класса наследника: circle и rectangle.
В классе figure должен быть указатель на динамический массив с геометрией фигуры double *geometry, указатель на динамический массив скорости и угловой скорости фигуры и переменной угла поворота фигуры, чисто виртуальные функции move, rotate.
В классе rectangle указатель geometry указывает на массив содержащий координаты центра и размеры прямоугольника (4 переменных). В классе circle указатель geometry указывает на массив содержащий координаты центра и радиус окружности (3 переменных). Размеры массивов очевидно различны и должны быть заданы в виде переменных (магические константы запрещены, все константы должны быть заданы либо через #define, либо через модификатор const). Деструкторы очевидно виртуальные, как и некоторые переопределенные функции.
В программе в цикле до К = (номер варианта+10) с вероятностью ½ создать экземпляры классов окружности и прямоугольника в квадрате размером 100Rх100R, где R - предельный размер в геометрии фигуры.  Фигуры могут пересекаться, но не выходить за пределы квадрата. В динамическом массиве указателей на родительский класс figure сохранить указатели на экземпляры классов потомков (для этого и требуется, чтобы переопределенные функции были виртуальными).
Результат в цикле до К по массиву указателей вывести на экран и файл в виде списка окружностей и прямоугольников с координатами центров и прочих переменных. Для этого переопределить оператор << для классов потомков . В конце или начале списка вывести общее количество окружностей и прямоугольников (вспомнить про static члены класса).
